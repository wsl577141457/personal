<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>广州航海学院心理健康测试系统</title>

    <meta
            content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no"
            name="viewport">

    <link rel="stylesheet"
          href="../static/plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="../static/plugins/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet"
          href="../static/plugins/ionicons/css/ionicons.min.css">
    <link rel="stylesheet"
          href="../static/plugins/adminLTE/css/AdminLTE.css">
    <link rel="stylesheet"
          href="../static/plugins/iCheck/square/blue.css">
</head>
<body style="background-color: #7adddd">
<div class="login-box">
    <div class="login-logo">
        <b>广州航海学院</b><br>心理健康测试系统
    </div>
    <!-- /.login-logo -->
    <div class="login-box-body">
        <form th:action="@{/login}" method="post" onsubmit="changeUsername()">
            <div class="form-group has-feedback">
                <input type="text" name="username" class="form-control"
                       placeholder="用户名" id="username"> <span
                    class="glyphicon glyphicon-user form-control-feedback"></span>
            </div>
            <div class="form-group has-feedback">
                <input type="password" name="password" class="form-control"
                       placeholder="密码"> <span
                    class="glyphicon glyphicon-lock form-control-feedback"></span>
            </div>
           <div class="form-group form-inline">
                <div class="btn-group">
                    <select class="form-control" id="chooseRole" name="chooseRole">
                        <option value="2">学生</option>
                        <option value="1">老师</option>
                        <option value="0">管理员</option>
                    </select>
                </div>
               <span class="error-content" style="color: red;" th:if="${param.error}" th:text="账号或密码错误！"></span>
            </div>
            <div class="row">
                <!-- /.col -->
                <div class="col-xs-4" style="margin-left: 32%;">
                    <button type="submit" class="btn btn-primary btn-block btn-flat">登录</button>
                </div>
                <!-- /.col -->
            </div>
        </form>
    </div>
    <!-- /.login-box-body -->
</div>


<script
        src="../static/plugins/jQuery/jquery-2.2.3.min.js"></script>
<script
        src="../static/plugins/bootstrap/js/bootstrap.min.js"></script>
<script
        src="../static/plugins/iCheck/icheck.min.js"></script>
<script>
    $(function() {
        $('input').iCheck({
            checkboxClass : 'icheckbox_square-blue',
            radioClass : 'iradio_square-blue',
            increaseArea : '20%' // optional
        });
    });

    function changeUsername() {
        var role = document.getElementById('chooseRole').value;
        var username = document.getElementById('username').value;
        if(role == "2"){
            username = "student-" + username;
        }
        else if(role == "1"){
            username = "teacher-" + username;
        }
        else if(role == "0"){
            username = "admin-" + username;
        }
        $("#username").val(username);
        username = document.getElementById('username').value;
    }
</script>
</body>
</html>